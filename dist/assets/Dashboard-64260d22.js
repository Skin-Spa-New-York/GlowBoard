import{j as e,C as s,b as a,S as t,f as l,g as i,h as c,i as n,d as r,e as o,P as d}from"./dashboard-features-d9d15042.js";import{r as m,L as x}from"./react-vendor-b18ea2cb.js";import{B as h,u as j,L as g}from"./admin-features-fcd29654.js";import{u}from"./useSalesData-329b0fde.js";import{D as v,i as b,c as N,A as f,l as p,g as y,h as w,S as L}from"./ui-vendor-ea3e37df.js";import{_ as S}from"./index-4666a6da.js";import"./charts-vendor-c49a018f.js";import"./firebase-vendor-b3492e98.js";function D({stats:t}){const l=[{title:"Today's Sales",value:`$${t.todaySales.toLocaleString()}`,icon:v,change:t.growth>0?`+${t.growth.toFixed(1)}%`:`${t.growth.toFixed(1)}%`,changeColor:t.growth>=0?"text-green-400":"text-red-400"},{title:"This Week",value:`$${t.weekSales.toLocaleString()}`,icon:b,change:"vs last week",changeColor:"text-gray-400"},{title:"This Month",value:`$${t.monthSales.toLocaleString()}`,icon:N,change:"vs last month",changeColor:"text-gray-400"},{title:"Avg Daily",value:`$${t.avgDaily.toLocaleString()}`,icon:f,change:`${t.totalTreatments} treatments`,changeColor:"text-[#bc9a64]"}];return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:l.map((t,l)=>e.jsx(s,{className:"bg-[#1a1a1a] border-[#bc9a64]/20 hover-lift",children:e.jsxs(a,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("div",{className:"w-12 h-12 bg-[#bc9a64]/10 rounded-xl flex items-center justify-center",children:e.jsx(t.icon,{className:"w-6 h-6 text-[#bc9a64]"})}),e.jsx("div",{className:`text-sm font-medium ${t.changeColor}`,children:t.change})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-white mb-1",children:t.value}),e.jsx("p",{className:"text-sm text-gray-400",children:t.title})]})]})},l))})}function $({selectedLocation:s,onLocationChange:a,locations:r}){return e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(p,{className:"w-5 h-5 text-[#bc9a64]"}),e.jsxs(t,{value:s,onValueChange:a,children:[e.jsx(l,{className:"w-48 bg-[#1a1a1a] border-[#bc9a64]/20 text-white",children:e.jsx(i,{placeholder:"Select location"})}),e.jsxs(c,{className:"bg-[#1a1a1a] border-[#bc9a64]/20",children:[e.jsx(n,{value:"all",className:"text-white hover:bg-[#bc9a64]/10",children:"All Locations"}),r.map(s=>e.jsx(n,{value:s,className:"text-white hover:bg-[#bc9a64]/10",children:s},s))]})]})]})}const _=m.lazy(()=>S(()=>import("./dashboard-features-d9d15042.js").then(e=>e.k),["assets/dashboard-features-d9d15042.js","assets/react-vendor-b18ea2cb.js","assets/ui-vendor-ea3e37df.js","assets/charts-vendor-c49a018f.js"])),C=()=>e.jsx("div",{className:"bg-[#1a1a1a] border-[#bc9a64]/20 rounded-lg p-8",children:e.jsx("div",{className:"h-80 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-[#bc9a64] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"Loading Chart..."})]})})});function M(s){return e.jsx(m.Suspense,{fallback:e.jsx(C,{}),children:e.jsx(_,{...s})})}function T({salesData:t,showLocation:l=!1}){const i=[...t].sort((e,s)=>new Date(s.date).getTime()-new Date(e.date).getTime()).slice(0,10);return e.jsxs(s,{className:"bg-[#1a1a1a] border-[#bc9a64]/20",children:[e.jsx(r,{children:e.jsxs(o,{className:"text-white flex items-center gap-2",children:[e.jsx(y,{className:"w-5 h-5 text-[#bc9a64]"}),"Recent Activity"]})}),e.jsx(a,{children:0===i.length?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(y,{className:"w-12 h-12 text-gray-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-400",children:"No recent activity"})]}):e.jsx("div",{className:"space-y-4",children:i.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-[#0e0e0e] rounded-lg border border-[#bc9a64]/10 hover-lift",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-10 h-10 bg-[#bc9a64]/20 rounded-lg flex items-center justify-center",children:e.jsx(v,{className:"w-5 h-5 text-[#bc9a64]"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("p",{className:"font-medium text-white",children:["$",s.daily_sales.toLocaleString()]}),l&&e.jsxs(h,{variant:"outline",className:"text-gray-300 border-gray-600",children:[e.jsx(p,{className:"w-3 h-3 mr-1"}),s.location]})]}),e.jsxs("p",{className:"text-sm text-gray-400",children:[w(new Date(s.date),"MMM d, yyyy"),s.treatments_count&&e.jsxs("span",{className:"ml-2",children:["â€¢ ",s.treatments_count," treatments"]})]})]})]}),s.notes&&e.jsx("div",{className:"max-w-xs",children:e.jsx("p",{className:"text-sm text-gray-300 truncate",children:s.notes})})]},s.id))})})]})}function A(){const[s,a]=m.useState("all"),[t,l]=m.useState("7days"),{user:i,loading:c}=j(),{salesData:n,stats:r,loading:o}=u({selectedLocation:s,userLocation:null==i?void 0:i.location,isAdmin:null==i?void 0:i.is_admin,timeframe:t});return c||o?e.jsx("div",{className:"min-h-screen bg-[#0e0e0e] flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-2 border-[#bc9a64] border-t-transparent rounded-full animate-spin"})}):e.jsx("div",{className:"min-h-screen bg-[#0e0e0e] text-white p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:(null==i?void 0:i.is_admin)?"Analytics Overview":`${(null==i?void 0:i.location)||"Location"} Dashboard`}),e.jsx("p",{className:"text-gray-400",children:w(new Date,"EEEE, MMMM d, yyyy")})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[(null==i?void 0:i.is_admin)&&e.jsx($,{selectedLocation:s,onLocationChange:a,locations:g}),(null==i?void 0:i.is_admin)&&e.jsx(x,{to:"/settings",className:"p-2 rounded-full hover:bg-[#2a2a2a] transition-colors duration-200",title:"Open Settings",children:e.jsx(L,{className:"h-6 w-6 text-gray-400 hover:text-[#bc9a64]"})})]})]}),e.jsx(D,{stats:r}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(M,{salesData:n,timeframe:t,onTimeframeChange:l})}),e.jsx("div",{className:"space-y-6",children:e.jsx(d,{salesData:n,selectedLocation:s})})]}),e.jsx(T,{salesData:n.slice(0,10),showLocation:(null==i?void 0:i.is_admin)||"all"===s})]})})}export{A as default};
//# sourceMappingURL=Dashboard-64260d22.js.map
