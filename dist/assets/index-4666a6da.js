var e=Object.defineProperty,s=(s,t,r)=>(((s,t,r)=>{t in s?e(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r})(s,"symbol"!=typeof t?t+"":t,r),r);import{j as t,B as r,C as a,d as n,e as l,b as i}from"./dashboard-features-d9d15042.js";import{a as c,u as o,c as d,r as m,L as h,d as x,e as f,R as u,B as b}from"./react-vendor-b18ea2cb.js";import{U as j,A as p,a as g,b as y,c as v,l as N,o as w}from"./admin-features-fcd29654.js";import{B as _,l as E,F as S,U as k,j as C,S as A,v as L,X as O,k as R,w as z,q as P,x as D,R as I,H as B}from"./ui-vendor-ea3e37df.js";import"./charts-vendor-c49a018f.js";import"./firebase-vendor-b3492e98.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if("childList"===t.type)for(const e of t.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)}).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();var G={},M=c;G.createRoot=M.createRoot,G.hydrateRoot=M.hydrateRoot;const T={},U=function(e,s,t){if(!s||0===s.length)return e();const r=document.getElementsByTagName("link");return Promise.all(s.map(e=>{if((e=function(e){return"/"+e}(e))in T)return;T[e]=!0;const s=e.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!t)for(let t=r.length-1;t>=0;t--){const a=r[t];if(a.href===e&&(!s||"stylesheet"===a.rel))return}else if(document.querySelector(`link[href="${e}"]${a}`))return;const n=document.createElement("link");return n.rel=s?"stylesheet":"modulepreload",s||(n.as="script",n.crossOrigin=""),n.href=e,document.head.appendChild(n),s?new Promise((s,t)=>{n.addEventListener("load",s),n.addEventListener("error",()=>t(new Error(`Unable to preload CSS for ${e}`)))}):void 0})).then(()=>e()).catch(e=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=e,window.dispatchEvent(s),!s.defaultPrevented)throw e})};function V(e){return`/${e.replace(/([A-Z])/g,"-$1").toLowerCase().replace(/^-/,"")}`}const F=[{title:"Dashboard",url:V("Dashboard"),icon:_,adminOnly:!1},{title:"Sales Entry",url:V("SalesEntry"),icon:E,adminOnly:!1},{title:"Notes",url:V("Notes"),icon:S,adminOnly:!1},{title:"User Management",url:V("UserManagement"),icon:k,adminOnly:!0},{title:"Audit Logs",url:V("AuditLogs"),icon:C,adminOnly:!0},{title:"Settings",url:V("Settings"),icon:A,adminOnly:!0}];function H({children:e}){var s;const a=o(),n=d(),[l,i]=m.useState(null),[c,x]=m.useState(!0),[f,u]=m.useState(!1);m.useEffect(()=>{b()},[]);const b=async()=>{try{const e=await j.me();i(e)}catch(e){}x(!1)};if(c)return t.jsx("div",{className:"min-h-screen bg-[#0e0e0e] flex items-center justify-center",children:t.jsx("div",{className:"w-8 h-8 border-2 border-[#bc9a64] border-t-transparent rounded-full animate-spin"})});if(!l)return t.jsx("div",{className:"min-h-screen bg-[#0e0e0e]",children:e});const p=F.filter(e=>!e.adminOnly||l.is_admin);return t.jsxs("div",{className:"min-h-screen bg-[#0e0e0e] text-white",style:{fontFamily:"Interstate, -apple-system, BlinkMacSystemFont, sans-serif"},children:[t.jsx("style",{children:"\n        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');\n        * {\n          font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;\n        }\n        \n        :root {\n          --primary-bg: #0e0e0e;\n          --primary-text: #f0f6f8;\n          --accent: #bc9a64;\n          --secondary-bg: #1a1a1a;\n          --border-color: #333;\n        }\n        \n        .glass-effect {\n          background: rgba(26, 26, 26, 0.8);\n          backdrop-filter: blur(10px);\n          border: 1px solid rgba(188, 154, 100, 0.1);\n        }\n        \n        .hover-lift {\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n        }\n        \n        .hover-lift:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 10px 25px rgba(188, 154, 100, 0.1);\n        }\n      "}),t.jsx("div",{className:"lg:hidden fixed top-0 left-0 right-0 z-50 glass-effect border-b border-[#bc9a64]/20",children:t.jsxs("div",{className:"flex items-center justify-between p-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-[#bc9a64] to-[#d4b876] rounded-lg flex items-center justify-center",children:t.jsx(_,{className:"w-4 h-4 text-[#0e0e0e]"})}),t.jsx("h1",{className:"text-lg font-semibold",children:"GlowBoard Analytics"})]}),t.jsx(r,{variant:"ghost",size:"icon",onClick:()=>u(!0),className:"text-white hover:bg-[#bc9a64]/10",children:t.jsx(L,{className:"w-5 h-5"})})]})}),f&&t.jsxs("div",{className:"lg:hidden fixed inset-0 z-50",children:[t.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>u(!1)}),t.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-80 bg-[#0e0e0e] border-r border-[#bc9a64]/20",children:[t.jsx("div",{className:"p-4 border-b border-[#bc9a64]/20",children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-[#bc9a64] to-[#d4b876] rounded-lg flex items-center justify-center",children:t.jsx(_,{className:"w-4 h-4 text-[#0e0e0e]"})}),t.jsx("h1",{className:"text-lg font-semibold",children:"GlowBoard Analytics"})]}),t.jsx(r,{variant:"ghost",size:"icon",onClick:()=>u(!1),className:"text-white hover:bg-[#bc9a64]/10",children:t.jsx(O,{className:"w-5 h-5"})})]})}),t.jsx("div",{className:"p-4",children:t.jsx("nav",{className:"space-y-2",children:p.map(e=>t.jsxs(h,{to:e.url,onClick:()=>u(!1),className:"flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200 hover-lift "+(a.pathname===e.url?"bg-[#bc9a64] text-[#0e0e0e] font-medium":"text-white hover:bg-[#bc9a64]/10"),children:[t.jsx(e.icon,{className:"w-5 h-5"}),t.jsx("span",{children:e.title})]},e.title))})})]})]}),t.jsxs("div",{className:"hidden lg:fixed lg:left-0 lg:top-0 lg:bottom-0 lg:w-80 lg:flex lg:flex-col glass-effect border-r border-[#bc9a64]/20",children:[t.jsx("div",{className:"p-8 border-b border-[#bc9a64]/20",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-[#bc9a64] to-[#d4b876] rounded-xl flex items-center justify-center shadow-lg",children:t.jsx(_,{className:"w-6 h-6 text-[#0e0e0e]"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-xl font-bold",children:"GlowBoard Analytics"}),t.jsx("p",{className:"text-sm text-gray-400",children:"Sales Performance Suite"})]})]})}),t.jsx("div",{className:"flex-1 p-6",children:t.jsx("nav",{className:"space-y-3",children:p.map(e=>t.jsxs(h,{to:e.url,className:"flex items-center gap-4 px-5 py-4 rounded-xl transition-all duration-200 hover-lift "+(a.pathname===e.url?"bg-[#bc9a64] text-[#0e0e0e] shadow-lg font-medium":"text-white hover:bg-[#bc9a64]/10"),children:[t.jsx(e.icon,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:e.title})]},e.title))})}),t.jsxs("div",{className:"p-6 border-t border-[#bc9a64]/20",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-[#bc9a64]/20 to-[#bc9a64]/10 rounded-lg flex items-center justify-center",children:l.is_admin?t.jsx(R,{className:"w-5 h-5 text-[#bc9a64]"}):t.jsx("span",{className:"text-sm font-medium text-[#bc9a64]",children:(null==(s=l.full_name)?void 0:s[0])||l.email[0].toUpperCase()})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"font-medium truncate",children:l.full_name||"User"}),t.jsx("p",{className:"text-sm text-gray-400 truncate",children:l.is_admin?"Admin":l.location})]})]}),t.jsxs(r,{onClick:async()=>{await j.logout(),n(V("Dashboard"))},variant:"outline",className:"w-full justify-start gap-3 border-[#bc9a64]/20 text-gray-300 hover:bg-[#bc9a64]/10 hover:text-white hover:border-[#bc9a64]/40",children:[t.jsx(z,{className:"w-4 h-4"}),"Sign Out"]})]})]}),t.jsx("div",{className:"lg:ml-80 pt-20 lg:pt-0",children:e})]})}function $({onLoginSuccess:e}){const[s,c]=m.useState(!1),[o,d]=m.useState(null);return t.jsx("div",{className:"min-h-screen bg-[#0e0e0e] flex items-center justify-center p-6",children:t.jsx("div",{className:"w-full max-w-md",children:t.jsxs(a,{className:"bg-[#1a1a1a] border-[#bc9a64]/20",children:[t.jsxs(n,{className:"text-center space-y-4",children:[t.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-[#bc9a64] to-[#d4b876] rounded-xl flex items-center justify-center mx-auto shadow-lg",children:t.jsx(_,{className:"w-8 h-8 text-[#0e0e0e]"})}),t.jsxs("div",{children:[t.jsx(l,{className:"text-2xl font-bold text-white",children:"GlowBoard Analytics"}),t.jsx("p",{className:"text-gray-400 mt-2",children:"Sales Performance Suite"})]})]}),t.jsxs(i,{className:"space-y-6",children:[o&&t.jsxs(p,{className:"border-red-500/20 bg-red-500/10",children:[t.jsx(P,{className:"h-4 w-4 text-red-400"}),t.jsx(g,{className:"text-red-300",children:o})]}),t.jsx("div",{className:"space-y-4",children:t.jsx(r,{onClick:async()=>{c(!0),d(null);try{await y.login(),await v.logLogin(),e()}catch(s){N.error("Login error",s),d(s instanceof Error?s.message:"Failed to login")}finally{c(!1)}},disabled:s,className:"w-full bg-gradient-to-r from-[#bc9a64] to-[#d4b876] hover:from-[#a8875a] hover:to-[#c1a56b] text-[#0e0e0e] font-semibold py-3",children:s?t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 border-2 border-[#0e0e0e] border-t-transparent rounded-full animate-spin"}),"Signing in..."]}):t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[t.jsx("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),t.jsx("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),t.jsx("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),t.jsx("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Continue with Google"]})})}),t.jsxs("div",{className:"text-center text-sm text-gray-400",children:[t.jsx("p",{children:"Sign in with your Google account to access"}),t.jsx("p",{children:"the GlowBoard Analytics dashboard"})]})]})]})})})}class q extends m.Component{constructor(){super(...arguments),s(this,"state",{hasError:!1}),s(this,"handleReload",()=>{window.location.reload()}),s(this,"handleGoHome",()=>{window.location.href="/"}),s(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0,errorInfo:void 0})})}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,s){N.error("React Error Boundary caught an error",{error:e.message,stack:e.stack,componentStack:s.componentStack}),this.setState({error:e,errorInfo:s})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:t.jsx("div",{className:"min-h-screen bg-[#0e0e0e] flex items-center justify-center p-6",children:t.jsxs(a,{className:"w-full max-w-2xl bg-[#1a1a1a] border-red-500/20",children:[t.jsxs(n,{className:"text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(D,{className:"w-8 h-8 text-red-400"})}),t.jsx(l,{className:"text-2xl text-white",children:"Something went wrong"})]}),t.jsxs(i,{className:"space-y-6",children:[t.jsxs(p,{className:"border-red-500/20 bg-red-500/10",children:[t.jsx(D,{className:"h-4 w-4 text-red-400"}),t.jsx(g,{className:"text-red-300",children:"An unexpected error occurred while rendering this page. Our team has been notified and is working to fix the issue."})]}),!1,t.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[t.jsxs(r,{onClick:this.handleRetry,className:"bg-gradient-to-r from-[#bc9a64] to-[#d4b876] hover:from-[#a8875a] hover:to-[#c1a56b] text-[#0e0e0e] font-semibold",children:[t.jsx(I,{className:"w-4 h-4 mr-2"}),"Try Again"]}),t.jsxs(r,{onClick:this.handleGoHome,variant:"outline",className:"border-[#bc9a64]/20 text-gray-300 hover:bg-[#bc9a64]/10",children:[t.jsx(B,{className:"w-4 h-4 mr-2"}),"Go to Dashboard"]}),t.jsxs(r,{onClick:this.handleReload,variant:"outline",className:"border-[#bc9a64]/20 text-gray-300 hover:bg-[#bc9a64]/10",children:[t.jsx(I,{className:"w-4 h-4 mr-2"}),"Reload Page"]})]}),t.jsx("div",{className:"text-center text-sm text-gray-400",children:t.jsx("p",{children:"If this problem persists, please contact support with the error details above."})})]})]})}):this.props.children}}const K=m.lazy(()=>U(()=>import("./Dashboard-64260d22.js"),["assets/Dashboard-64260d22.js","assets/dashboard-features-d9d15042.js","assets/react-vendor-b18ea2cb.js","assets/ui-vendor-ea3e37df.js","assets/charts-vendor-c49a018f.js","assets/admin-features-fcd29654.js","assets/firebase-vendor-b3492e98.js","assets/useSalesData-329b0fde.js"])),W=m.lazy(()=>U(()=>import("./SalesEntry-f57a6606.js"),["assets/SalesEntry-f57a6606.js","assets/dashboard-features-d9d15042.js","assets/react-vendor-b18ea2cb.js","assets/ui-vendor-ea3e37df.js","assets/charts-vendor-c49a018f.js","assets/admin-features-fcd29654.js","assets/firebase-vendor-b3492e98.js","assets/useSalesData-329b0fde.js","assets/textarea-5d669d9c.js"])),Y=m.lazy(()=>U(()=>import("./Notes-f03def7e.js"),["assets/Notes-f03def7e.js","assets/dashboard-features-d9d15042.js","assets/react-vendor-b18ea2cb.js","assets/ui-vendor-ea3e37df.js","assets/charts-vendor-c49a018f.js","assets/admin-features-fcd29654.js","assets/firebase-vendor-b3492e98.js","assets/textarea-5d669d9c.js"])),Z=m.lazy(()=>U(()=>import("./admin-features-fcd29654.js").then(e=>e.d),["assets/admin-features-fcd29654.js","assets/dashboard-features-d9d15042.js","assets/react-vendor-b18ea2cb.js","assets/ui-vendor-ea3e37df.js","assets/charts-vendor-c49a018f.js","assets/firebase-vendor-b3492e98.js"])),J=m.lazy(()=>U(()=>import("./admin-features-fcd29654.js").then(e=>e.e),["assets/admin-features-fcd29654.js","assets/dashboard-features-d9d15042.js","assets/react-vendor-b18ea2cb.js","assets/ui-vendor-ea3e37df.js","assets/charts-vendor-c49a018f.js","assets/firebase-vendor-b3492e98.js"])),Q=m.lazy(()=>U(()=>import("./admin-features-fcd29654.js").then(e=>e.f),["assets/admin-features-fcd29654.js","assets/dashboard-features-d9d15042.js","assets/react-vendor-b18ea2cb.js","assets/ui-vendor-ea3e37df.js","assets/charts-vendor-c49a018f.js","assets/firebase-vendor-b3492e98.js"])),X=m.lazy(()=>U(()=>import("./DevUtils-68202af5.js"),["assets/DevUtils-68202af5.js","assets/dashboard-features-d9d15042.js","assets/react-vendor-b18ea2cb.js","assets/ui-vendor-ea3e37df.js","assets/charts-vendor-c49a018f.js","assets/admin-features-fcd29654.js","assets/firebase-vendor-b3492e98.js"])),ee=()=>t.jsx("div",{className:"min-h-screen bg-[#0e0e0e] flex items-center justify-center",children:t.jsxs("div",{className:"text-center",children:[t.jsx("div",{className:"w-8 h-8 border-2 border-[#bc9a64] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),t.jsx("p",{className:"text-gray-400",children:"Loading..."})]})});function se(){const[e,s]=m.useState(null),[r,a]=m.useState(!0);return m.useEffect(()=>{const e=w(e=>{s(e),a(!1)});return()=>e()},[]),m.useEffect(()=>{N.info("OnSale Analytics App initialized")},[]),r?t.jsx("div",{className:"min-h-screen bg-[#0e0e0e] flex items-center justify-center",children:t.jsx("div",{className:"w-8 h-8 border-2 border-[#bc9a64] border-t-transparent rounded-full animate-spin"})}):e?t.jsx(q,{children:t.jsx(m.Suspense,{fallback:t.jsx(ee,{}),children:t.jsxs(x,{children:[t.jsx(f,{path:"/",element:t.jsx(H,{children:t.jsx(K,{})})}),t.jsx(f,{path:"/dashboard",element:t.jsx(H,{children:t.jsx(K,{})})}),t.jsx(f,{path:"/sales-entry",element:t.jsx(H,{children:t.jsx(W,{})})}),t.jsx(f,{path:"/notes",element:t.jsx(H,{children:t.jsx(Y,{})})}),t.jsx(f,{path:"/user-management",element:t.jsx(H,{children:t.jsx(Z,{})})}),t.jsx(f,{path:"/audit-logs",element:t.jsx(H,{children:t.jsx(J,{})})}),t.jsx(f,{path:"/settings",element:t.jsx(H,{children:t.jsx(Q,{})})}),t.jsx(f,{path:"/dev-utils",element:t.jsx(H,{children:t.jsx(X,{})})})]})})}):t.jsx($,{onLoginSuccess:()=>s(!0)})}G.createRoot(document.getElementById("root")).render(t.jsx(u.StrictMode,{children:t.jsx(b,{children:t.jsx(se,{})})}));export{U as _};
//# sourceMappingURL=index-4666a6da.js.map
